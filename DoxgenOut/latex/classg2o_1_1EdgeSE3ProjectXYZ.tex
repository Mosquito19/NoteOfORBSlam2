\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ}{\section{g2o\-:\-:Edge\-S\-E3\-Project\-X\-Y\-Z类 参考}
\label{classg2o_1_1EdgeSE3ProjectXYZ}\index{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}}
}


N\-O\-T\-E uesd in Optimizer\-::\-Bundle\-Adjustment(), Optimizer\-::\-Local\-Bundle\-Adjustment()  




{\ttfamily \#include $<$types\-\_\-six\-\_\-dof\-\_\-expmap.\-h$>$}



类 g2o\-:\-:Edge\-S\-E3\-Project\-X\-Y\-Z 继承关系图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{classg2o_1_1EdgeSE3ProjectXYZ__inherit__graph}
\end{center}
\end{figure}


g2o\-:\-:Edge\-S\-E3\-Project\-X\-Y\-Z 的协作图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{classg2o_1_1EdgeSE3ProjectXYZ__coll__graph}
\end{center}
\end{figure}
\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a04200f3d6b7fbd47961df696f1ee34ed}{bool \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_a04200f3d6b7fbd47961df696f1ee34ed}{read} (std\-::istream \&is)}\label{classg2o_1_1EdgeSE3ProjectXYZ_a04200f3d6b7fbd47961df696f1ee34ed}

\begin{DoxyCompactList}\small\item\em read the vertex from a stream, i.\-e., the internal state of the vertex \end{DoxyCompactList}\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a3f09d0456f011dfa53b6f61b566e27fd}{bool \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_a3f09d0456f011dfa53b6f61b566e27fd}{write} (std\-::ostream \&os) const }\label{classg2o_1_1EdgeSE3ProjectXYZ_a3f09d0456f011dfa53b6f61b566e27fd}

\begin{DoxyCompactList}\small\item\em write the vertex to a stream \end{DoxyCompactList}\item 
void \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_a79a763e1d42fe9eb5732abe59c7723d9}{compute\-Error} ()
\item 
bool \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_a603cc0018b5b05fd193e84e032a66d07}{is\-Depth\-Positive} ()
\item 
virtual void \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_a7454e89740635d782c9e4efaef35ec44}{linearize\-Oplus} ()
\begin{DoxyCompactList}\small\item\em Linearization. \end{DoxyCompactList}\item 
Vector2d \hyperlink{classg2o_1_1EdgeSE3ProjectXYZ_aa44a34f1d1a75d7263b7527d75f8a9dc}{cam\-\_\-project} (const Vector3d \&trans\-\_\-xyz) const 
\end{DoxyCompactItemize}
\subsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a6af0a48bd4e21d060585d7ee9c1ca1ef}{double {\bfseries fx}}\label{classg2o_1_1EdgeSE3ProjectXYZ_a6af0a48bd4e21d060585d7ee9c1ca1ef}

\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_af5f931cd13ef318a3f42f54aa57b9466}{double {\bfseries fy}}\label{classg2o_1_1EdgeSE3ProjectXYZ_af5f931cd13ef318a3f42f54aa57b9466}

\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_ace052104b07ec272eb5f254254ead5e5}{double {\bfseries cx}}\label{classg2o_1_1EdgeSE3ProjectXYZ_ace052104b07ec272eb5f254254ead5e5}

\item 
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_af590c37d535ce7e71be5ce4ae368e9c1}{double {\bfseries cy}}\label{classg2o_1_1EdgeSE3ProjectXYZ_af590c37d535ce7e71be5ce4ae368e9c1}

\end{DoxyCompactItemize}
\subsection*{额外继承的成员函数}


\subsection{详细描述}
N\-O\-T\-E uesd in Optimizer\-::\-Bundle\-Adjustment(), Optimizer\-::\-Local\-Bundle\-Adjustment() 

在文件 types\-\_\-six\-\_\-dof\-\_\-expmap.\-h 第 91 行定义.



\subsection{成员函数说明}
\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_aa44a34f1d1a75d7263b7527d75f8a9dc}{\index{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}!cam\-\_\-project@{cam\-\_\-project}}
\index{cam\-\_\-project@{cam\-\_\-project}!g2o::EdgeSE3ProjectXYZ@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}}
\subsubsection[{cam\-\_\-project}]{\setlength{\rightskip}{0pt plus 5cm}Vector2d g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z\-::cam\-\_\-project (
\begin{DoxyParamCaption}
\item[{const Vector3d \&}]{trans\-\_\-xyz}
\end{DoxyParamCaption}
) const}}\label{classg2o_1_1EdgeSE3ProjectXYZ_aa44a34f1d1a75d7263b7527d75f8a9dc}
将\-Xw投影到cam的图像坐标系 \par
 $ u = \frac{f_x X}{Z} + c_x $ \par
 $ v = \frac{f_y Y}{Z} + c_v $ \par

\begin{DoxyParams}{参数}
{\em trans\-\_\-xyz} & \mbox{[}X Y Z\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
\mbox{[}u v\mbox{]} 
\end{DoxyReturn}


在文件 types\-\_\-six\-\_\-dof\-\_\-expmap.\-cpp 第 152 行定义.

\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a79a763e1d42fe9eb5732abe59c7723d9}{\index{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}!compute\-Error@{compute\-Error}}
\index{compute\-Error@{compute\-Error}!g2o::EdgeSE3ProjectXYZ@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}}
\subsubsection[{compute\-Error}]{\setlength{\rightskip}{0pt plus 5cm}void g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z\-::compute\-Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{classg2o_1_1EdgeSE3ProjectXYZ_a79a763e1d42fe9eb5732abe59c7723d9}
重投影误差 

实现了 \hyperlink{classg2o_1_1OptimizableGraph_1_1Edge}{g2o\-::\-Optimizable\-Graph\-::\-Edge}.



在文件 types\-\_\-six\-\_\-dof\-\_\-expmap.\-h 第 104 行定义.



参考 g2o\-::\-Base\-Vertex$<$ D, T $>$\-::estimate().



函数调用图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classg2o_1_1EdgeSE3ProjectXYZ_a79a763e1d42fe9eb5732abe59c7723d9_cgraph}
\end{center}
\end{figure}


\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a603cc0018b5b05fd193e84e032a66d07}{\index{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}!is\-Depth\-Positive@{is\-Depth\-Positive}}
\index{is\-Depth\-Positive@{is\-Depth\-Positive}!g2o::EdgeSE3ProjectXYZ@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}}
\subsubsection[{is\-Depth\-Positive}]{\setlength{\rightskip}{0pt plus 5cm}bool g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z\-::is\-Depth\-Positive (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classg2o_1_1EdgeSE3ProjectXYZ_a603cc0018b5b05fd193e84e032a66d07}
检验 $ TX_w $的\-Z是否大于0 \begin{DoxyReturn}{返回}
true if the depth is Positive 
\end{DoxyReturn}


在文件 types\-\_\-six\-\_\-dof\-\_\-expmap.\-h 第 115 行定义.



参考 g2o\-::\-Base\-Vertex$<$ D, T $>$\-::estimate().



参考自 O\-R\-B\-\_\-\-S\-L\-A\-M2\-::\-Optimizer\-::\-Local\-Bundle\-Adjustment().



函数调用图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classg2o_1_1EdgeSE3ProjectXYZ_a603cc0018b5b05fd193e84e032a66d07_cgraph}
\end{center}
\end{figure}




这是这个函数的调用关系图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classg2o_1_1EdgeSE3ProjectXYZ_a603cc0018b5b05fd193e84e032a66d07_icgraph}
\end{center}
\end{figure}


\hypertarget{classg2o_1_1EdgeSE3ProjectXYZ_a7454e89740635d782c9e4efaef35ec44}{\index{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}!linearize\-Oplus@{linearize\-Oplus}}
\index{linearize\-Oplus@{linearize\-Oplus}!g2o::EdgeSE3ProjectXYZ@{g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z}}
\subsubsection[{linearize\-Oplus}]{\setlength{\rightskip}{0pt plus 5cm}void g2o\-::\-Edge\-S\-E3\-Project\-X\-Y\-Z\-::linearize\-Oplus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classg2o_1_1EdgeSE3ProjectXYZ_a7454e89740635d782c9e4efaef35ec44}


Linearization. 

误差函数对\mbox{[}X Y Z\mbox{]}和增量\mbox{[}w1 w2 w3 v1 v2 v3\mbox{]}求雅克比矩阵 \par
 $Ji_{2\times3} = \frac{\partial [obs - \Pi(exp(\hat{\xi}) T X_w)]}{\partial X_w} $ \par
 $Jj_{2\times6} = \frac{\partial [obs - \Pi(exp(\hat{\xi}) T X_w)]}{\partial \xi} $ \par
\begin{DoxyNote}{注解}
\-\_\-jacobian\-Oplus\-Xi，\-\_\-jacobian\-Oplus\-Xj 
\end{DoxyNote}
\begin{DoxySeeAlso}{参见}
采用链式法则求解, 参考(注意以下参考的增量定义为\mbox{[}v1 v2 v3 w1 w2 w3\mbox{]})
\begin{DoxyItemize}
\item jlblanco2010geometry3d\-\_\-techrep.\-pdf p56 (A.\-2) 推荐
\item strasdat\-\_\-thesis\-\_\-2012.\-pdf p194 (B.\-4)
\end{DoxyItemize}
\end{DoxySeeAlso}
线性化, 即同时对重投影误差分别关于位姿vj和路标vi求雅克比矩阵.

\-\_\-jacobian\-Oplus\-Xj是重投影误差关于位姿vj的导数 \-\_\-jacobian\-Oplus\-Xi是重投影误差关于路标vi的导数 xyz即路标在世界坐标系下的三维坐标, xyz\-\_\-trans是路标在相机坐标系下的三维坐标. map()函数就是通过位姿\-T=\mbox{[}R$\vert$t\mbox{]}进行坐标系映射. 

重载 \hyperlink{classg2o_1_1BaseBinaryEdge_af0fb8a693c8c7996fa65566e7263fbc4}{g2o\-::\-Base\-Binary\-Edge$<$ 2, Vector2d, Vertex\-S\-B\-A\-Point\-X\-Y\-Z, Vertex\-S\-E3\-Expmap $>$} .



在文件 types\-\_\-six\-\_\-dof\-\_\-expmap.\-cpp 第 112 行定义.



参考 g2o\-::\-Base\-Vertex$<$ D, T $>$\-::estimate().



函数调用图\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classg2o_1_1EdgeSE3ProjectXYZ_a7454e89740635d782c9e4efaef35ec44_cgraph}
\end{center}
\end{figure}




该类的文档由以下文件生成\-:\begin{DoxyCompactItemize}
\item 
Thirdparty/g2o/g2o/types/types\-\_\-six\-\_\-dof\-\_\-expmap.\-h\item 
Thirdparty/g2o/g2o/types/types\-\_\-six\-\_\-dof\-\_\-expmap.\-cpp\end{DoxyCompactItemize}
